
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />


  <link rel="canonical" href="https://andrewwegner.com/update-wled-ericsity-controller-0141.html">

  <meta name="robots" content="index, follow" />

  <link
    href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,400;0,700;1,400&family=Source+Sans+Pro:ital,wght@0,300;0,400;0,700;1,400&display=block"
    rel="stylesheet">

  <link rel="stylesheet" type="text/css" href="https://andrewwegner.com/theme/stylesheet/style.min.css">
  <link rel="stylesheet" type="text/css"
    href="https://andrewwegner.com/theme/font-awesome/css/font-awesome-v4.css">


  <link id="pygments-light-theme" rel="stylesheet" type="text/css"     href="https://andrewwegner.com/theme/pygments/github.min.css">



  <link rel="stylesheet" type="text/css" href="https://andrewwegner.com/theme/font-awesome/css/fontawesome.css">
  <link rel="stylesheet" type="text/css" href="https://andrewwegner.com/theme/font-awesome/css/brands.css">
  <link rel="stylesheet" type="text/css" href="https://andrewwegner.com/theme/font-awesome/css/solid.css">


<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
<link rel="icon" href="/favicon.ico" type="image/x-icon">
<link rel="apple-touch-icon" sizes="180x180" href=" /apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">

  <!-- Chrome, Firefox OS and Opera -->
  <meta name="theme-color" content="#080019">
  <!-- Windows Phone -->
  <meta name="msapplication-navbutton-color" content="#080019">
  <!-- iOS Safari -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <!-- Microsoft EDGE -->
  <meta name="msapplication-TileColor" content="#080019">

  <link href="https://andrewwegner.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Andrew Wegner | Ponderings of an Andy Atom">


<script type="text/javascript">
    window.heap = window.heap || [], heap.load = function (e, t) { window.heap.appid = e, window.heap.config = t = t || {}; var r = t.forceSSL || "https:" === document.location.protocol, a = document.createElement("script"); a.type = "text/javascript", a.async = !0, a.src = (r ? "https:" : "http:") + "//cdn.heapanalytics.com/js/heap-" + e + ".js"; var n = document.getElementsByTagName("script")[0]; n.parentNode.insertBefore(a, n); for (var o = function (e) { return function () { heap.push([e].concat(Array.prototype.slice.call(arguments, 0))) } }, p = ["addEventProperties", "addUserProperties", "clearEventProperties", "identify", "resetIdentity", "removeEventProperty", "setEventProperties", "track", "unsetEventProperty"], c = 0; c < p.length; c++)heap[p[c]] = o(p[c]) };
    heap.load("653100411");
</script>

<meta name="author" content="Andy Wegner" />
<meta name="description" content="The Ericsity WLED controller comes with WLED 0.13.3 preinstalled and only offers the ability to update to 0.13.4. This walks through setting up the controller for the first time and moving to 0.14.1 while maintaining the sound reactive features the controller advertises." />
<meta name="keywords" content="technical, wled">


  <meta property="og:site_name" content="Andrew Wegner | Ponderings of an Andy"/>
  <meta property="og:title" content="Setting up and updating the Ericsity WLED Controller from 0.13.3 to 0.14.1"/>
  <meta property="og:description" content="The Ericsity WLED controller comes with WLED 0.13.3 preinstalled and only offers the ability to update to 0.13.4. This walks through setting up the controller for the first time and moving to 0.14.1 while maintaining the sound reactive features the controller advertises."/>
  <meta property="og:locale" content="en_US"/>
  <meta property="og:url" content="https://andrewwegner.com/update-wled-ericsity-controller-0141.html"/>
  <meta property="og:type" content="article"/>
  <meta property="article:published_time" content="2024-06-20 15:45:00-05:00"/>
  <meta property="article:modified_time" content=""/>
  <meta property="article:author" content="https://andrewwegner.com/">
  <meta property="article:section" content="Technical Solutions"/>
  <meta property="article:tag" content="technical"/>
  <meta property="article:tag" content="wled"/>
  <meta property="og:image" content="/images/wegner_headshot.png">

  <title>Setting up and updating the Ericsity WLED Controller from 0.13.3 to 0.14.1  · Andrew Wegner | Ponderings of an Andy
</title>

</head>

<body class="light-theme" >

<aside class="aside-border">
  <div class="aside-cont">
<a href="https://andrewwegner.com/">
    <img class="hex-logo" src="/images/wegner_headshot.png" alt="Andrew Wegner | Ponderings of an Andy" title="Andrew Wegner | Ponderings of an Andy">
</a>

    <nav id="nav-links">
      <ul class="list">



        <li>
          <a target="_self" href="/">Home</a>
        </li>
        <li>
          <a target="_self" href="/about/">About Me</a>
        </li>
        <li>
          <a target="_self" href="/archives.html">Archives</a>
        </li>
        <li>
          <a target="_self" href="/categories.html">Categories</a>
        </li>
        <li>
          <a target="_self" href="/tags.html">Tags</a>
        </li>
      </ul>
    </nav>

    <h3>Article Contents</h3>
    <hr />
    <nav class="toc">
      <div class="toc">
<ul>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#the-problem">The Problem</a></li>
<li><a href="#setting-up-ericsity-controller">Setting up Ericsity Controller</a></li>
<li><a href="#update-to-014x">Update to 0.14.x</a><ul>
<li><a href="#official-build">Official build</a></li>
<li><a href="#selecting-a-more-recent-build">Selecting a more recent build</a></li>
<li><a href="#press-the-button">Press the button!</a></li>
<li><a href="#fixing-sound-reactive">Fixing Sound Reactive</a></li>
</ul>
</li>
<li><a href="#good-to-go">Good to go</a></li>
</ul>
</div>
    </nav>

<ul class="social">
  <div class="itsmefooter">Andy Wegner</div>
  <li>
    <a id="andy-linkedin" class="sc-linkedin" rel="me"  href="https://www.linkedin.com/in/andrew-wegner/"
      target="_blank">
      <i class="fa-brands fa-linkedin"></i>
    </a>
  </li>
  <li>
    <a id="andy-stackoverflow" class="sc-stack-overflow" rel="me"  href="https://stackoverflow.com/users/189134/andy"
      target="_blank">
      <i class="fa-brands fa-stack-overflow"></i>
    </a>
  </li>
  <li>
    <a id="andy-github" class="sc-github" rel="me"  href="https://github.com/AWegnerGitHub/"
      target="_blank">
      <i class="fa-brands fa-github"></i>
    </a>
  </li>
  <li>
    <a id="andy-resume" class="sc-file-pdf"  href="/resume.pdf"
      target="_blank">
      <i class="fa-solid fa-file-pdf"></i>
    </a>
  </li>
  <li>
    <a id="andy-blogemail" class="sc-envelope" rel="me"  href="mailto:blog.feedback@andrewwegner.com"
      target="_blank">
      <i class="fa-solid fa-envelope"></i>
    </a>
  </li>
</ul>
  </div>

  <script type="text/javascript">

    let acont = document.getElementsByClassName("toc content-cont")[0];
    function back(){
      acont.style.left = "-24vw";
    }
    function openCont(){
      acont.style.left = "-1vw";
    }
  </script>
</aside>
  <main>

<article class="single">
  <header>
    
<nav>
    <ul class="article-breadcrumbs">
        <li><a href="/"><i class="fa-sharp fa-solid fa-house"></i>&nbsp;Home</a></li>
        <li><i class="fa-solid fa-greater-than"></i>&nbsp;<a href="https://andrewwegner.com/categories.html">Categories</a></li>
        <li><i class="fa-solid fa-greater-than"></i>&nbsp;<a href="https://andrewwegner.com/category/technical-solutions.html">Technical Solutions</a>
        </li>
        <li><i class="fa-solid fa-greater-than"></i>&nbsp;<a href="https://andrewwegner.com/update-wled-ericsity-controller-0141.html"><i
                    class="fa-solid fa-book"></i>&nbsp;<span class="breadcrumb-article">Setting up and updating the Ericsity WLED Controller from 0.13.3 to 0.14.1</span></li></a></li>
    </ul>
</nav>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
  {
    "@type": "ListItem",
    "position": 1,
    "item": 
    {
      "@id": "/",
      "name": "Andrew Wegner | Ponderings of an Andy"
    }
  },
  {
    "@type": "ListItem",
    "position": 2,
    "item": 
    {
      "@id": "https://andrewwegner.com/categories.html",
      "name": "Categories"
    }
  }
  ,{
    "@type": "ListItem",
    "position": 3,
    "item": 
    {
      "@id": "https://andrewwegner.com/category/technical-solutions.html",
      "name": "Technical Solutions"
    }
  }
  ,{
    "@type": "ListItem",
    "position": 4,
    "item": 
    {
      "@id": "https://andrewwegner.com/update-wled-ericsity-controller-0141.html",
      "name": "https://andrewwegner.com/update-wled-ericsity-controller-0141.html"
    }
  }
  ]
}
</script>    <h1 id="update-wled-ericsity-controller-0141">Setting up and updating the Ericsity WLED Controller from 0.13.3 to 0.14.1</h1>
    <p>
      Posted on Thu 20 June 2024 in <a href="https://andrewwegner.com/category/technical-solutions.html">Technical Solutions</a>


    <div class="tag-cloud">
      <p>
        <a href="https://andrewwegner.com/tag/technical.html">technical</a>
        <a href="https://andrewwegner.com/tag/wled.html">wled</a>
      </p>
    </div>
    </p>
  </header>

  <div>
    
<h2 id="introduction">Introduction<a class="headerlink" href="#introduction" title="Permanent link">¶</a></h2>
<p>My summer time project this year is to set up some LED lights outside. After testing out a couple Govee strips that I didn't like because I couldn't diffuse the individual lights away, I finally found an LED strip I liked. The next step was to control these strips so that I could do more than solid colors or the default rainbow every LED strip has. I settled on using the amazing <a href="https://kno.wled.ge/">WLED project</a> to control the lights. To speed up the project, I decided to get a prebuilt controller and eventually selected the <a href="https://www.amazon.com/Ericsity-Controller-Addressable-WS2812B-SK6812/dp/B0CNVXY8NX">Ericsity controller with a built in mic</a>.</p>
<p>Side note: This post is just about how I updated the controller. The next article in the post is available, and talks about how <a href="https://andrewwegner.com/control-power-wled-relay.html">I am controlling a larger power supply with the WLED controller</a>.</p>
<h2 id="the-problem">The Problem<a class="headerlink" href="#the-problem" title="Permanent link">¶</a></h2>
<p>The controller arrived and was easy to set up. I wired up my strips in the basement to ensure I didn't have any power problems and then determined where I needed to make cuts and solder points once this was outside. Then I went to set up <a href="https://kno.wled.ge/features/segments/">segments</a> in WLED so that I could control effects in specific areas.</p>
<p>The problem I quickly encountered was that I am outlining my deck with these lights and right in the middle of the deck is a set of steps that I also wanted to light up and then the rest of the deck rail. WLED doesn't have the ability (at least that I've found) to span an effect across multiple segments and I'd need multiple segments for this. </p>
<p>At minimium I'd need 3 segments - The rail, the steps, the rest of the rail. If I want an effect to span the entire rail, I can't do that with the steps in the middle. Further research pointed me to the ability to <a href="https://kno.wled.ge/advanced/mapping/">remap the physical LED order</a> to a logical LED order. After trying to set this up, it wasn't feature complete in 0.13, but did appear to be in 0.14.</p>
<p>However, the Ericsity - rightfully so - utilizes a <a href="https://github.com/atuline/WLED">stable version of WLED</a> that only allows you to <a href="https://github.com/atuline/WLED/releases">update to 0.13.4</a> and the README has the following note:</p>
<blockquote>
<p>This repository is still maintained, and will receive bugfixes. However no new features will be added.</p>
</blockquote>
<p><img alt="WLED Sound Reactive update page showing that upgrades are only available through version 0.13.4" src="https://andrewwegner.com/images/wled/wled-update-page.png"/></p>
<h2 id="setting-up-ericsity-controller">Setting up Ericsity Controller<a class="headerlink" href="#setting-up-ericsity-controller" title="Permanent link">¶</a></h2>
<p>Let's take a step back and get the controller set up and then focus on upgrading it. Fortunately, Ericsity makes this pretty easy.</p>
<p>Step 1 is to plug in the controller. After a few seconds, you will see a new network available on your phone called <code>WLED-AP</code>. Join that network. From your browser navigate to <code>4.3.2.1</code> and select "WIFI SETTINGS". </p>
<p><img alt="WLED install page" src="https://andrewwegner.com/images/wled/install1.png"/></p>
<p>The goal is to add this controller to your wireless network. Do this by adding your network name and password into the first two text boxes. I also updated the mDNS setting, but that's optional. Then save and connect.</p>
<p><img alt="WLED network set up page" src="https://andrewwegner.com/images/wled/install2.png"/></p>
<p>Finally, install the WLED mobile application if you are going to manage this via your phone. On an android device you can find it in the Google Play store with the name <a href="https://play.google.com/store/apps/details?id=com.aircoookie.WLED&amp;hl=en_US">WLED</a>. Reconnect to your wireless network and the one you just added the controller to. Once installed and reconnected to the network, open the application. </p>
<p>If you have already installed and configured a controller, you'll see your previous controllers listed. To add the new controller, click on the <code>+</code> sign in the upper right. Then "Start Discovery". When the controller is found, you can press the check button.</p>
<p><img alt="Searching for and adding a new controller to the WLED application" src="https://andrewwegner.com/images/wled/install3.png"/></p>
<p>The new controller will be listed on the main WLED page with the default name of <code>WLED-SoundReactive</code>. Select that controller by tapping it. Then select "Config" along the top and "Security &amp; Updates" at the bottom.</p>
<p>Scroll all the way down to the bottom of this page and you should see that you have the following version installed:</p>
<p><code>WLED SR version 0.13.3</code></p>
<h2 id="update-to-014x">Update to 0.14.x<a class="headerlink" href="#update-to-014x" title="Permanent link">¶</a></h2>
<p>From the Security &amp; Updates page, it makes sense to try and perform and update. If you click "Manual OTA Update" you'll notice that only version <code>0.13.3</code> is available via this link though. It's time to do a manual update!</p>
<p>I am utilizing the <a href="https://github.com/MoonModules/WLED">MoonModules branch</a> because the README for the default install says that changes should be made against this branch.</p>
<blockquote>
<p>Pull Requests should be created against the MoonModules mdev branch.</p>
</blockquote>
<p>I performed this OTA upgrade from my computer by navigating to the mDNS I set up previously. It can also be accessed by the IP address of the controller in your browser.</p>
<p>At the time of this post, the <a href="https://github.com/MoonModules/WLED/releases">current release</a> was <code>0.14.1-b30</code>. This was released approximately 6 months ago. I briefly skimmed through recent issues and pull requests to see if I should find a more recent build. There was an <a href="https://github.com/MoonModules/WLED/issues/130">crash issue</a> reported with the <code>ripple</code> effects. Since I like that particular effect, I decided to go with a newer build than the official release. </p>
<h3 id="official-build">Official build<a class="headerlink" href="#official-build" title="Permanent link">¶</a></h3>
<p>If you are going to stick with an official release, navigate to the <a href="https://github.com/MoonModules/WLED/releases">release page</a> and download the binary file you want to install. For the Ericsity, I found that the generic ESP32 build worked. If you want to use this, look for the file titled <code>WLEDMM_0.14.1-b30.36_esp32_4MB_M.bin</code>. You could also use the <code>WLEDMM_0.14.1-b30.36_esp32_4MB_S.bin</code>. Download this file.</p>
<h3 id="selecting-a-more-recent-build">Selecting a more recent build<a class="headerlink" href="#selecting-a-more-recent-build" title="Permanent link">¶</a></h3>
<p>Since I wanted a fix for the item I <a href="https://github.com/MoonModules/WLED/issues/130">found</a>, I opted to download a recent build of the <code>mdev</code> branch. This can be accomplished by navigating to the build pipeline and filtering for the <code>mdev</code> branch. This is on Github and available via this direct link to the <a href="https://github.com/MoonModules/WLED/actions/workflows/wled-ci.yml?query=branch%3Amdev">mdev pipeline</a>.</p>
<p><img alt="Recent builds on Github. Look for mdev branch" src="https://andrewwegner.com/images/wled/github-builds.png"/></p>
<p>From here, select the build you want and scroll all the way to the bottom of the page. Find the binary you want to download. In my case, I wanted the <code>firmware-esp32_4MB_M</code> and download it. Once downloaded, extract it so that you can upload the <code>.bin</code> file within the WLED page. </p>
<p><img alt="Select the build to utilize. For the Ericsity controller, I found the firmware-esp32_4MB_M version works" src="https://andrewwegner.com/images/wled/github-build-version.png"/></p>
<h3 id="press-the-button">Press the button!<a class="headerlink" href="#press-the-button" title="Permanent link">¶</a></h3>
<p>In WLED's Security and Update page, select this binary and then click "Update!"</p>
<p><img alt="Upload the binary to utilize as the new image" src="https://andrewwegner.com/images/wled/update1.png"/></p>
<p>The update took less than a minute for me. While the new image was being installed, I was told not to close or refresh the page.</p>
<p><img alt="Update installing, don't close or refresh" src="https://andrewwegner.com/images/wled/update2.png"/></p>
<p>When the update is complete, the controller will reboot. </p>
<p><img alt="Update complete, rebooting" src="https://andrewwegner.com/images/wled/update3.png"/></p>
<p>To confirm that everything has been updated, click on "Config". Immediately, you'll notice a lot more options. Scroll to the bottom and select "Security &amp; Updates" and at the bottom you'll have an About section that lists the version you selected to install. Mine looks like this:</p>
<p><code>WLEDMM version 0.14.1-b31.38 ☾</code></p>
<h3 id="fixing-sound-reactive">Fixing Sound Reactive<a class="headerlink" href="#fixing-sound-reactive" title="Permanent link">¶</a></h3>
<p>During testing, I noticed that the sound reaction wasn't working. I found the AudioReactive plugin was disabled by default. This is an easy fix. In the WLED application (or web page), click on "Info" then click the power button icon next to "AudioReactive". However, this isn't enough to solve the problem. Click on "Config" then scroll down to AudioReactive. First make sure it is enabled (it should be after the power button selection above). </p>
<p>The digitalmic section needs to be modified. The Ericsity controller has the microphone on the following pins:</p>
<ul>
<li>Microphone Type: Generic I2S</li>
<li>Pin I2S SD: 26</li>
<li>Pin I2S WS: 5</li>
<li>Pin I2S SCK: 21</li>
</ul>
<p><img alt="Correct audio settings for Ericsity controller. Pin 26 for SD, Pin 5 for WS and Pin 21 for SCK" src="https://andrewwegner.com/images/wled/correct-audio.png"/> </p>
<p>I found that pin 5 was selected for another plugin. If you find this too, navigate back to Config page and select "Rotary-Encoder". I don't utilize this plugin, but it is part of the <code>M</code> build I downloaded. Disable the plugin and change the <code>CLK Pin</code> to be <code>undefined</code>. Then save this change and go back to the AudioReactive plugin and set it up with the pin layout above.</p>
<p><img alt="Disable the Rotary-Encoder plugin and set the CLK pin to undefined" src="https://andrewwegner.com/images/wled/disabled-plugin.png"/></p>
<p>Finally, reboot the controller by selecting "Info" and rebooting the controller at the bottom.</p>
<h2 id="good-to-go">Good to go<a class="headerlink" href="#good-to-go" title="Permanent link">¶</a></h2>
<p>Now that the controller has rebooted, audio reactions are working again. The branch I've updated by controller to is actively maintained for the 0.14 branch, even if it is several months behind the main line. I'm satisfied with this for now and will begin experimenting with the led mappings that I need that started this entire upgrade process.</p>
  </div>
<div class="neighbors">
  <a class="btn float-left" href="https://andrewwegner.com/python-gotcha-strip-functions-unexpected-behavior.html"
    title="Python Gotcha: strip, lstrip, rstrip can remove more than expected">
    <i class="fa fa-angle-left"></i> Previous Post
  </a>
  <a class="btn float-right" href="https://andrewwegner.com/control-power-wled-relay.html"
    title="Controlling power to LED lights with WLED Controller and a Relay switch">
    Next Post <i class="fa fa-angle-right"></i>
  </a>
</div>
  <hr />
  <div>
            <span class="author_blurb"><a href="https://andrewwegner.com/about/" rel="author"><span class="author_name">Andy Wegner</span></a> -
             is a father, an engineer and a computer scientist. He is interested in online
            community building, tinkering with new code and building new applications.
            He writes about his experiences with each of these.</span>

  </div>


</article>

<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BlogPosting",
  "name": "Setting up and updating the Ericsity WLED Controller from 0.13.3 to 0.14.1",
  "headline": "Setting up and updating the Ericsity WLED Controller from 0.13.3 to 0.14.1",
  "dateCreated": "2024-06-20 15:45:00-05:00",
  "datePublished": "2024-06-20 15:45:00-05:00",
  "dateModified": "",
  "copyrightYear": "2024",
  "copyrightHolder": {
    "@type": "Person",
    "name": "Andy Wegner",
    "url": "https://andrewwegner.com"
  },
  "author": {
      "@id": "https://andrewwegner.com/#andrew"
    ],
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "https://www.andrewwegner.com/about/"
      }
  },
  "publisher": {
    "@type": "Person",
    "name": "Andy Wegner",
    "sameAs": [
      "https://www.andrewwegner.com/",
      "https://www.andrewwegner.com/about/",
      "https://www.andrewwegner.com/resume.pdf",
      "https://www.linkedin.com/in/andrew-wegner/",
      "https://github.com/AWegnerGitHub/",
      "https://stackoverflow.com/users/189134/andy",
      "https://keybase.io/awegner"
    ]
  },
  "image": "/images/wegner_headshot.png",
  "url": "https://andrewwegner.com/update-wled-ericsity-controller-0141.html",
  "description": "The Ericsity WLED controller comes with WLED 0.13.3 preinstalled and only offers the ability to update to 0.13.4. This walks through setting up the controller for the first time and moving to 0.14.1 while maintaining the sound reactive features the controller advertises.",
  "mainEntityOfPage": "True",
  "articleSection": "Technical Solutions"
}
</script>
<footer>
<p>&copy; 2026 Andrew Wegner</p>
</footer>  </main>

<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " Andrew Wegner | Ponderings of an Andy ",
  "url" : "https://andrewwegner.com",
  "image": "/images/wegner_headshot.png",
  "description": "Andrew Wegner (Andy Wegner) - VP Strategic Software at Zayo, Stack Overflow moderator. Engineering leadership insights, Python tutorials, and technical articles from 15+ years building global software teams."
}
</script>
</body>

</html>