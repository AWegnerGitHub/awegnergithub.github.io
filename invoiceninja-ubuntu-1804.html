
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />


  <link rel="canonical" href="https://andrewwegner.com/invoiceninja-ubuntu-1804.html">

  <meta name="robots" content="index, follow" />

  <link
    href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,400;0,700;1,400&family=Source+Sans+Pro:ital,wght@0,300;0,400;0,700;1,400&display=block"
    rel="stylesheet">

  <link rel="stylesheet" type="text/css" href="https://andrewwegner.com/theme/stylesheet/style.min.css">
  <link rel="stylesheet" type="text/css"
    href="https://andrewwegner.com/theme/font-awesome/css/font-awesome-v4.css">


  <link id="pygments-light-theme" rel="stylesheet" type="text/css"     href="https://andrewwegner.com/theme/pygments/github.min.css">



  <link rel="stylesheet" type="text/css" href="https://andrewwegner.com/theme/font-awesome/css/fontawesome.css">
  <link rel="stylesheet" type="text/css" href="https://andrewwegner.com/theme/font-awesome/css/brands.css">
  <link rel="stylesheet" type="text/css" href="https://andrewwegner.com/theme/font-awesome/css/solid.css">


<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
<link rel="icon" href="/favicon.ico" type="image/x-icon">
<link rel="apple-touch-icon" sizes="180x180" href=" /apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">

  <!-- Chrome, Firefox OS and Opera -->
  <meta name="theme-color" content="#080019">
  <!-- Windows Phone -->
  <meta name="msapplication-navbutton-color" content="#080019">
  <!-- iOS Safari -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <!-- Microsoft EDGE -->
  <meta name="msapplication-TileColor" content="#080019">

  <link href="https://andrewwegner.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Andrew Wegner | Ponderings of an Andy Atom">


<script type="text/javascript">
    window.heap = window.heap || [], heap.load = function (e, t) { window.heap.appid = e, window.heap.config = t = t || {}; var r = t.forceSSL || "https:" === document.location.protocol, a = document.createElement("script"); a.type = "text/javascript", a.async = !0, a.src = (r ? "https:" : "http:") + "//cdn.heapanalytics.com/js/heap-" + e + ".js"; var n = document.getElementsByTagName("script")[0]; n.parentNode.insertBefore(a, n); for (var o = function (e) { return function () { heap.push([e].concat(Array.prototype.slice.call(arguments, 0))) } }, p = ["addEventProperties", "addUserProperties", "clearEventProperties", "identify", "resetIdentity", "removeEventProperty", "setEventProperties", "track", "unsetEventProperty"], c = 0; c < p.length; c++)heap[p[c]] = o(p[c]) };
    heap.load("653100411");
</script>

<meta name="author" content="Andy Wegner" />
<meta name="description" content="A brief walkthrough on how to install InvoiceNinja on Ubuntu 18.04" />
<meta name="keywords" content="technical">


  <meta property="og:site_name" content="Andrew Wegner | Ponderings of an Andy"/>
  <meta property="og:title" content="Installing InvoiceNinja on Ubuntu 18.04"/>
  <meta property="og:description" content="A brief walkthrough on how to install InvoiceNinja on Ubuntu 18.04"/>
  <meta property="og:locale" content="en_US"/>
  <meta property="og:url" content="https://andrewwegner.com/invoiceninja-ubuntu-1804.html"/>
  <meta property="og:type" content="article"/>
  <meta property="article:published_time" content="2019-07-30 13:00:00-05:00"/>
  <meta property="article:modified_time" content=""/>
  <meta property="article:author" content="https://andrewwegner.com/">
  <meta property="article:section" content="Technical Solutions"/>
  <meta property="article:tag" content="technical"/>
  <meta property="og:image" content="/images/wegner_headshot.png">

  <title>Installing InvoiceNinja on Ubuntu 18.04  · Andrew Wegner | Ponderings of an Andy
</title>

</head>

<body class="light-theme" >

<aside class="aside-border">
  <div class="aside-cont">
<a href="https://andrewwegner.com/">
    <img class="hex-logo" src="/images/wegner_headshot.png" alt="Andrew Wegner | Ponderings of an Andy" title="Andrew Wegner | Ponderings of an Andy">
</a>

    <nav id="nav-links">
      <ul class="list">



        <li>
          <a target="_self" href="/">Home</a>
        </li>
        <li>
          <a target="_self" href="/about/">About Me</a>
        </li>
        <li>
          <a target="_self" href="/archives.html">Archives</a>
        </li>
        <li>
          <a target="_self" href="/categories.html">Categories</a>
        </li>
        <li>
          <a target="_self" href="/tags.html">Tags</a>
        </li>
      </ul>
    </nav>

    <h3>Article Contents</h3>
    <hr />
    <nav class="toc">
      <div class="toc">
<ul>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#getting-started">Getting Started</a></li>
<li><a href="#database-setup">Database setup</a></li>
<li><a href="#configure-apache">Configure Apache</a></li>
<li><a href="#completing-the-install">Completing the install</a></li>
<li><a href="#updating">Updating</a></li>
</ul>
</div>
    </nav>

<ul class="social">
  <div class="itsmefooter">Andy Wegner</div>
  <li>
    <a id="andy-linkedin" class="sc-linkedin" rel="me"  href="https://www.linkedin.com/in/andrew-wegner/"
      target="_blank">
      <i class="fa-brands fa-linkedin"></i>
    </a>
  </li>
  <li>
    <a id="andy-stackoverflow" class="sc-stack-overflow" rel="me"  href="https://stackoverflow.com/users/189134/andy"
      target="_blank">
      <i class="fa-brands fa-stack-overflow"></i>
    </a>
  </li>
  <li>
    <a id="andy-github" class="sc-github" rel="me"  href="https://github.com/AWegnerGitHub/"
      target="_blank">
      <i class="fa-brands fa-github"></i>
    </a>
  </li>
  <li>
    <a id="andy-resume" class="sc-file-pdf"  href="/resume.pdf"
      target="_blank">
      <i class="fa-solid fa-file-pdf"></i>
    </a>
  </li>
  <li>
    <a id="andy-blogemail" class="sc-envelope" rel="me"  href="mailto:blog.feedback@andrewwegner.com"
      target="_blank">
      <i class="fa-solid fa-envelope"></i>
    </a>
  </li>
</ul>
  </div>

  <script type="text/javascript">

    let acont = document.getElementsByClassName("toc content-cont")[0];
    function back(){
      acont.style.left = "-24vw";
    }
    function openCont(){
      acont.style.left = "-1vw";
    }
  </script>
</aside>
  <main>

<article class="single">
  <header>
    
<nav>
    <ul class="article-breadcrumbs">
        <li><a href="/"><i class="fa-sharp fa-solid fa-house"></i>&nbsp;Home</a></li>
        <li><i class="fa-solid fa-greater-than"></i>&nbsp;<a href="https://andrewwegner.com/categories.html">Categories</a></li>
        <li><i class="fa-solid fa-greater-than"></i>&nbsp;<a href="https://andrewwegner.com/category/technical-solutions.html">Technical Solutions</a>
        </li>
        <li><i class="fa-solid fa-greater-than"></i>&nbsp;<a href="https://andrewwegner.com/invoiceninja-ubuntu-1804.html"><i
                    class="fa-solid fa-book"></i>&nbsp;<span class="breadcrumb-article">Installing InvoiceNinja on Ubuntu 18.04</span></li></a></li>
    </ul>
</nav>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
  {
    "@type": "ListItem",
    "position": 1,
    "item": 
    {
      "@id": "/",
      "name": "Andrew Wegner | Ponderings of an Andy"
    }
  },
  {
    "@type": "ListItem",
    "position": 2,
    "item": 
    {
      "@id": "https://andrewwegner.com/categories.html",
      "name": "Categories"
    }
  }
  ,{
    "@type": "ListItem",
    "position": 3,
    "item": 
    {
      "@id": "https://andrewwegner.com/category/technical-solutions.html",
      "name": "Technical Solutions"
    }
  }
  ,{
    "@type": "ListItem",
    "position": 4,
    "item": 
    {
      "@id": "https://andrewwegner.com/invoiceninja-ubuntu-1804.html",
      "name": "https://andrewwegner.com/invoiceninja-ubuntu-1804.html"
    }
  }
  ]
}
</script>    <h1 id="invoiceninja-ubuntu-1804">Installing InvoiceNinja on Ubuntu 18.04</h1>
    <p>
      Posted on Tue 30 July 2019 in <a href="https://andrewwegner.com/category/technical-solutions.html">Technical Solutions</a>


    <div class="tag-cloud">
      <p>
        <a href="https://andrewwegner.com/tag/technical.html">technical</a>
      </p>
    </div>
    </p>
  </header>

  <div>
    
<h2 id="introduction">Introduction<a class="headerlink" href="#introduction" title="Permanent link">¶</a></h2>
<p>It's been a several years since I really did a lot of freelance work. Mostly, I did it in the evening hours
a few nights a week for some extra money. Over the last few years, that kind of work has
slowed down for me. Mostly because I enjoy relaxing in the evenings and spending time off
of my computer now. It's weird to type that, but "hobby coding" really hasn't had as much
appeal to me since I started my <a href="https://andrewwegner.com/how-i-found-an-awesome-remote-only-job.html">current job</a> a few years ago.</p>
<p>I love my job. I love working from home 100% of the time and I love being home
when the kids get off the bus, during summer breaks, and when the weather sucks. The
one thing this job has done though, is remove my desire to sit in my office after
everyone else has gone to bed and just code.</p>
<p>But, that's ok. I've found other hobbies and am really excited about some up coming
things I'm trying out. If they work out, I'll be able to combine my coding skills
with other hobbies. I'm sure I'll write about it at some point.</p>
<p>I say all of that, because, even though I don't actively take on freelance work any
longer, I still have clients that I did work for that will reach out once and a while
for help, consultations or a small project. When that happens, I need a way to bill them
for my time.</p>
<p>Previously, my invoices would have been whipped up in Word and converted to a PDF and sent
off to the client. It worked for years. I was able to keep track of everything,
properly report it (don't want to mess with the tax man) and I kept chugging along. The
problem now, is that if I'm doing work for a client, I want to do the work and be done. I don't
want to spent time making a presentable invoice in Word.</p>
<p>So, I went hunting for some software. I found <a href="https://www.invoiceninja.com/">InvoiceNinja</a>. It's amazing.</p>
<ul>
<li>Hosted or self hosted version</li>
<li>Create simple invoices</li>
<li>Create full quotes</li>
<li>API (which I will probably never use, but...it's there)</li>
<li>Recurring billing</li>
<li>Zapier integration</li>
</ul>
<p>I have this habit of self hosting my own software. See my posts on <a href="https://andrewwegner.com/installing-nextcloud.html">NextCloud</a>
and <a href="https://andrewwegner.com/installing-gitlab.html">GitLab</a> for other examples.</p>
<p>This rest of this post is going to walk through how I installed InvoiceNinja.</p>
<h2 id="getting-started">Getting Started<a class="headerlink" href="#getting-started" title="Permanent link">¶</a></h2>
<p>I'll be self hosting <a href="https://www.invoiceninja.org/">InvoiceNinja</a>. You can find that on their <code>.org</code> site
or on <a href="https://github.com/invoiceninja/invoiceninja">GitHub</a>.</p>
<p>In this, I'll be installing InvoiceNinja, setting up Apache to host it, and showing how
to update it in the future.</p>
<div class="codehilight code"><pre><span></span><code><span class="o">$</span><span class="w"> </span><span class="n">wget</span><span class="w"> </span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">download</span><span class="o">.</span><span class="n">invoiceninja</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">ninja</span><span class="o">-</span><span class="n">v4</span><span class="o">.</span><span class="mf">5.13</span><span class="o">.</span><span class="n">zip</span>
<span class="o">$</span><span class="w"> </span><span class="n">unzip</span><span class="w"> </span><span class="n">ninja</span><span class="o">-</span><span class="n">v4</span><span class="o">.</span><span class="mf">5.13</span><span class="o">.</span><span class="n">zip</span>
</code></pre></div>
<p>This downloads and unzips InvoiceNinja 4.5.14 to the current directory. Next,
let's move it to it's final install location and set up appropriate owner and
permissions.</p>
<div class="codehilight code"><pre><span></span><code>$<span class="w"> </span>sudo<span class="w"> </span>mv<span class="w"> </span>ninja<span class="w"> </span>/var/www/html
$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>/var/www/html
$<span class="w"> </span>sudo<span class="w"> </span>chown<span class="w"> </span>-R<span class="w"> </span>www-data:www-data<span class="w"> </span>ninja/
$<span class="w"> </span>sudo<span class="w"> </span>chmod<span class="w"> </span>-R<span class="w"> </span><span class="m">755</span><span class="w"> </span>ninja/storage
</code></pre></div>
<h2 id="database-setup">Database setup<a class="headerlink" href="#database-setup" title="Permanent link">¶</a></h2>
<p>InvoiceNinja runs on MySQL (or MariaDB). We need to create the database, but
the installer will do the rest of the work for us. Log into MySQL with a user
that can create new databases, users and permissions.</p>
<div class="codehilight code"><pre><span></span><code>$<span class="w"> </span>mysql<span class="w"> </span>-u<span class="w"> </span>root<span class="w"> </span>-p
</code></pre></div>
<p>Now we'll run three commands. The first is to create the new database, the second
is to create the user. The third is to set appropriate permissions for the
new user and new password.</p>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>Change the default password from <code>ninja</code> to something secure</p>
</div>
<p>Our three commands:</p>
<div class="codehilight code"><pre><span></span><code>CREATE DATABASE ninja;
CREATE USER 'ninja'@'localhost' IDENTIFIED BY 'ninja';
GRANT ALL PRIVILEGES ON ninja.* TO 'ninja'@'localhost';
</code></pre></div>
<p>Exit MySQL.</p>
<h2 id="configure-apache">Configure Apache<a class="headerlink" href="#configure-apache" title="Permanent link">¶</a></h2>
<p>Now we're going to set up a new virtualhost in Apache to serve InvoiceNinja.</p>
<p>Create an entry in sites-available.</p>
<div class="codehilight code"><pre><span></span><code>nano /etc/apache2/sites-available/invoiceninja.conf
</code></pre></div>
<p>My entry looks like this:</p>
<div class="codehilight code"><pre><span></span><code><span class="nt">&lt;VirtualHost</span><span class="w"> </span><span class="err">*:80</span><span class="nt">&gt;</span>
<span class="w">     </span>DocumentRoot<span class="w"> </span>/var/www/html/ninja/public
<span class="w">     </span>ServerName<span class="w"> </span>invoice.example.com
<span class="w">     </span>Redirect<span class="w"> </span>permanent<span class="w"> </span>/<span class="w"> </span>https://invoice.example.com/

<span class="w">     </span><span class="nt">&lt;Directory</span><span class="w"> </span><span class="err">/var/www/html/ninja/public</span><span class="nt">&gt;</span>
<span class="w">        </span>Options<span class="w"> </span>+FollowSymlinks
<span class="w">        </span>AllowOverride<span class="w"> </span>All
<span class="w">        </span>Require<span class="w"> </span>all<span class="w"> </span>granted
<span class="w">     </span><span class="nt">&lt;/Directory&gt;</span>
<span class="nt">&lt;/VirtualHost&gt;</span>

<span class="nt">&lt;VirtualHost</span><span class="w"> </span><span class="err">*:443</span><span class="nt">&gt;</span>
<span class="w">    </span>ServerName<span class="w"> </span>invoice.example.com
<span class="w">    </span>DocumentRoot<span class="w"> </span>/var/www/html/ninja/public
<span class="w">    </span>SSLEngine<span class="w"> </span>on
<span class="w">    </span>SSLCertificateFile<span class="w"> </span>/path/to/dehydrated/certs/invoice.example.com/cert.pem
<span class="w">    </span>SSLCertificateKeyFile<span class="w"> </span>/path/to/dehydrated/certs/invoice.example.com/privkey.pem
<span class="w">    </span>SSLCertificateChainFile<span class="w"> </span>/path/to/dehydrated/certs/invoice.example.com/chain.pem
<span class="w">    </span><span class="nt">&lt;IfModule</span><span class="w"> </span><span class="err">mod_headers.c</span><span class="nt">&gt;</span>
<span class="w">        </span>Header<span class="w"> </span>always<span class="w"> </span>set<span class="w"> </span>Strict-Transport-Security<span class="w"> </span>"max-age=15552000;<span class="w"> </span>includeSubDomains"
<span class="w">    </span><span class="nt">&lt;/IfModule&gt;</span>

<span class="w">    </span><span class="nt">&lt;Directory</span><span class="w"> </span><span class="err">/var/www/html/ninja</span><span class="nt">/&gt;</span>
<span class="w">        </span>Options<span class="w"> </span>FollowSymLinks
<span class="w">        </span>AllowOverride<span class="w"> </span>All
<span class="w">        </span>Order<span class="w"> </span>allow,deny
<span class="w">        </span>allow<span class="w"> </span>from<span class="w"> </span>all
<span class="w">    </span><span class="nt">&lt;/Directory&gt;</span>
<span class="nt">&lt;/VirtualHost&gt;</span>
</code></pre></div>
<p>This sets up a direct from HTTP to HTTPS. Then it points to the SSL certificates I've
created for this subdomain. I previously wrote about <a href="https://andrewwegner.com/setup-lets-encrypt.html">how I set up SSL</a>. I followed the
same steps, using the new subdomain.</p>
<p>With SSL and the subdomain set up in CloudFlare, it's time to enable the site:</p>
<div class="codehilight code"><pre><span></span><code><span class="o">$</span><span class="w"> </span><span class="n">sudo</span><span class="w"> </span><span class="n">a2ensite</span><span class="w"> </span><span class="n">invoiceninja</span><span class="o">.</span><span class="n">conf</span>
<span class="o">$</span><span class="w"> </span><span class="n">sudo</span><span class="w"> </span><span class="n">systemctl</span><span class="w"> </span><span class="n">reload</span><span class="w"> </span><span class="n">apache2</span>
</code></pre></div>
<h2 id="completing-the-install">Completing the install<a class="headerlink" href="#completing-the-install" title="Permanent link">¶</a></h2>
<p>Navigate to the new subdomain, and fill out the form. Installation will be
completed in a minute or so.</p>
<h2 id="updating">Updating<a class="headerlink" href="#updating" title="Permanent link">¶</a></h2>
<p>At some point, InvoiceNinja will come out with an update, and I'll want to update
to get the newest features and security patches.</p>
<p>To start with, we want to download the newest version:</p>
<div class="codehilight code"><pre><span></span><code><span class="o">$</span><span class="w"> </span><span class="n">wget</span><span class="w"> </span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">download</span><span class="o">.</span><span class="n">invoiceninja</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">ninja</span><span class="o">-</span><span class="n">v4</span><span class="o">.</span><span class="mf">5.14</span><span class="o">.</span><span class="n">zip</span>
<span class="o">$</span><span class="w"> </span><span class="n">unzip</span><span class="w"> </span><span class="n">ninja</span><span class="o">-</span><span class="n">v4</span><span class="o">.</span><span class="mf">5.14</span><span class="o">.</span><span class="n">zip</span>
</code></pre></div>
<p>Next, <code>rsync</code> the files to the installed directory.</p>
<div class="codehilight code"><pre><span></span><code>$<span class="w"> </span>sudo<span class="w"> </span>rsync<span class="w"> </span>-tr<span class="w"> </span>ninja/<span class="w"> </span>/var/www/html/ninja/
</code></pre></div>
<p>This messes up permissions, so reset those.</p>
<div class="codehilight code"><pre><span></span><code>$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>/var/www/html
$<span class="w"> </span>sudo<span class="w"> </span>chown<span class="w"> </span>-R<span class="w"> </span>www-data:www-data<span class="w"> </span>ninja/
$<span class="w"> </span>sudo<span class="w"> </span>chmod<span class="w"> </span>-R<span class="w"> </span><span class="m">755</span><span class="w"> </span>ninja/storage
</code></pre></div>
<p>Finally, hit the <code>/update</code> URL to complete the process</p>
<div class="codehilight code"><pre><span></span><code>wget https://invoice.example.com/update
</code></pre></div>
  </div>
<div class="neighbors">
  <a class="btn float-left" href="https://andrewwegner.com/updating-php-ubuntu-1804.html"
    title="Updating PHP from 7.1 to 7.3 on Ubuntu 18.04">
    <i class="fa fa-angle-left"></i> Previous Post
  </a>
  <a class="btn float-right" href="https://andrewwegner.com/setting-up-gitlab-runners.html"
    title="Setting up GitLab runners">
    Next Post <i class="fa fa-angle-right"></i>
  </a>
</div>
  <hr />
  <div>
            <span class="author_blurb"><a href="https://andrewwegner.com/about/" rel="author"><span class="author_name">Andy Wegner</span></a> -
             is a father, an engineer and a computer scientist. He is interested in online
            community building, tinkering with new code and building new applications.
            He writes about his experiences with each of these.</span>

  </div>


</article>

<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BlogPosting",
  "name": "Installing InvoiceNinja on Ubuntu 18.04",
  "headline": "Installing InvoiceNinja on Ubuntu 18.04",
  "dateCreated": "2019-07-30 13:00:00-05:00",
  "datePublished": "2019-07-30 13:00:00-05:00",
  "dateModified": "",
  "copyrightYear": "2019",
  "copyrightHolder": {
    "@type": "Person",
    "name": "Andy Wegner",
    "url": "https://andrewwegner.com"
  },
  "author": {
      "@id": "https://andrewwegner.com/#andrew"
  },
  "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "https://www.andrewwegner.com/about/"
      }
  },
  "publisher": {
    "@type": "Person",
    "name": "Andy Wegner",
    "sameAs": [
      "https://www.andrewwegner.com/",
      "https://www.andrewwegner.com/about/",
      "https://www.andrewwegner.com/resume.pdf",
      "https://www.linkedin.com/in/andrew-wegner/",
      "https://github.com/AWegnerGitHub/",
      "https://stackoverflow.com/users/189134/andy",
      "https://keybase.io/awegner"
    ]
  },
  "image": "/images/wegner_headshot.png",
  "url": "https://andrewwegner.com/invoiceninja-ubuntu-1804.html",
  "description": "A brief walkthrough on how to install InvoiceNinja on Ubuntu 18.04",
  "mainEntityOfPage": "True",
  "articleSection": "Technical Solutions"
}
</script>
<footer>
<p>&copy; 2026 Andrew Wegner</p>
</footer>  </main>

<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " Andrew Wegner | Ponderings of an Andy ",
  "url" : "https://andrewwegner.com",
  "image": "/images/wegner_headshot.png",
  "description": "Andrew Wegner (Andy Wegner) - VP Strategic Software at Zayo, Stack Overflow moderator. Engineering leadership insights, Python tutorials, and technical articles from 15+ years building global software teams."
}
</script>
</body>

</html>